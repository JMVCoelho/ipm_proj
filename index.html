<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
    <head>
        <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.js"></script>
        <style>
            input[type=time]::-webkit-inner-spin-button,
            input[type=time]::-webkit-outer-spin-button{
            opacity: 1
            }
            input[type="time"]::-webkit-clear-button,
            input[type="time"]::-webkit-datetime-edit-ampm-field{
            display: none;
            }
            ::-webkit-scrollbar {
            width: 10px;
            }
            /* Track */
            ::-webkit-scrollbar-track {
            background: #f1f1f1;
            }
            /* Handle */
            ::-webkit-scrollbar-thumb {
            background: #888;
            }
            /* Handle on hover */
            ::-webkit-scrollbar-thumb:hover {
            background: #555;
            }
            div{
            font-family: Arial, Helvetica, sans-serif;
            }
            .menubutton {
            position: absolute;
            top:100px;
            left:60px;
            }
            .container{
            position:relative;
            }
            .center {
            position: absolute;
            top: 65px;
            left: 50px;
            color: #dfdfdf;
            font-size: 25px;
            }
            .dia {
            position: absolute;
            top: 40px;
            left: 59px;
            color: #dfdfdf;
            font-size: 18px;
            }
            .top-right{
            position: absolute;
            top: 10px;
            left: 106px;
            color: white;
            font-size: 18px;
            }
            .iRaveText{
            position: absolute;
            top: 10px;
            left: 12px;
            color: white;
            font-size: 18px;
            }
            .right_button_list{
            position: absolute;
            top: 36px;
            left: 126px;
            background-image: url( 'right_button.png' );
            background-size: 25px 25px;
            height: 25px;
            width: 25px;
            border-radius:50%;
            border: 0px solid #cc4e3b;
            display: none;
            }
            .left_button_list{
            position: absolute;
            top: 36px;
            left: 10px;
            background-image: url( 'left_button.png' );
            background-size: 25px 25px;
            height: 25px;
            width: 25px;
            border-radius:50%;
            border: 0px solid #cc4e3b;
            display: none;
            }
            .music_note {
            border: 0;
            position: absolute;
            top: 0;
            right: 0;
            }
            .time{
            position: absolute;
            top: 40px;
            left: 35px;
            background-color: transparent;
            color: #dfdfdf;
            font-size: 24px;
            }
            .ok_button{
            border-radius: 15%;
            background-color: #cc4e3b;
            position: absolute;
            top: 86px;
            left: 41px;
            color: #dfdfdf;
            padding: 7px;
            text-align: center;
            border: 2px solid white;
            display: none;
            font-size: 14px;
            }
            .texto_artista{
            position: absolute;
            top: 50px;
            color: white;
            text-align: center;
            width: 144px;
            }
            .separator{
            position: absolute;
            width: 144px;
            top: 30px;
            }
            .texto_musica{
            color: white;
            position: absolute;
            top: 80px;
            width: 144px;
            text-align: center;
            }
            h1{
            display: none;
            }
            .texto_erro_1 {
            position: absolute;
            top: 80px;
            left: 16px;
            color: white;
            font-size: 14px;
            }
            .hora_erro_1 {
            position: absolute;
            top: 100px;
            left: 35px;
            color: white;
            font-size: 14px;
            }
            .texto_erro_2 {
            position: absolute;
            top: 80px;
            left: 11px;
            color: white;
            font-size: 14px;
            }
            .hora_erro_2 {
            position: absolute;
            top: 100px;
            left: 27px;
            color: white;
            font-size: 14px;
            }
            .artista_lista{
            position: absolute;
            top:70px;
            width: 144px;
            text-align: center;
            color: white;
            font-size: 17px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            }
            .hora_lista{
            position: absolute;
            top:38px;
            left:58px;
            color: white;
            font-size: 18px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            }
            .musica_lista{
            position: absolute;
            top:95px;
            width: 144px;
            text-align: center;
            color: white;
            font-size: 17px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            }
            .music_button{
            position: absolute;
            top: 32px;
            left: 40px;
            background-image: url( 'button_music.png' );
            background-size: 80px 80px;
            height: 80px;
            width: 80px;
            border-radius:50%;
            border: 1px solid #cc4e3b;
            display: none;
            }
            .meals_button{
            position: absolute;
            top: 32px;
            left: 40px;
            background-image: url( 'button_meals.png' );
            background-size: 80px 80px;
            height: 80px;
            width: 80px;
            border-radius:50%;
            border: 1px solid #ff971e;
            display: none;
            }
            .back_button{
            position: absolute;
            top: 127px;
            left: 12px;
            background-image: url( 'back.png' );
            background-size: 23px 23px;
            height: 23px;
            width: 23px;
            border-radius:50%;
            border: 1px solid white;
            display: none;
            }
            .musica_a_tocar{
            position: absolute;
            top: 73px;
            left: 70px;
            background-image: url( 'musica_tocar.png' );
            background-size: 25px 25px;
            height: 25px;
            width: 25px;
            border-radius:50%;
            border: 1px solid #cc4e3b;
            display: none;
            }
            .atocar_button {
            position: absolute;
            left: 15px;
            top: 32px;
            background-color: #cc4e3b;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 10px 34px;/* Green */
            font-size: 18px;
            display: none;
            }
            .jatocou_button {
            position: absolute;
            left: 15px;
            top: 81px;
            background-color: #cc4e3b;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 10px 29px;
            font-size: 18px;
            display: none;
            }
            .horacerta_button {
            position: absolute;
            left: 15px;
            top: 32px;
            background-color: #cc4e3b;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 10px 21px;/* Green */
            font-size: 18px;
            display: none;
            }
            .lista_button {
            position: absolute;
            left: 15px;
            top: 81px;
            background-color: #cc4e3b;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 10px 46px;/* Green */
            font-size: 18px;
            display: none;
            }
            .no_Music {
            position: absolute;
            width: 144px;
            text-align: center;
            word-wrap: break-word;
            top: 55px;
            color: white;
            font-size: 18px;
            }
            .musica_menu_text {
            position: absolute;
            left: 51px;
            top: 130px;
            color: white;
            font-size: 18px;
            }
            .separator1{
            position: absolute;
            width: 144px;
            top: 31px;
            display: none;
            }
            .separator2{
            position: absolute;
            width: 144px;
            top: 123px;
            display: none;
            }
            .separator3{
            position: absolute;
            width: 144px;
            top: 52px;
            display: none;
            }
            .establecimentos_text{
            position: absolute;
            width: 130px;
            top: 34px;
            font-size: 15px;
            color: white;
            text-align: left;
            }
            .rest_icon{
            position: absolute;
            width: 35px;
            top: 63px;
            left: 15px;
            display: none;
            }
            .carrinho{
            position: absolute;
            width: 18px;
            height: 18px;
            top: 33px;
            left: 130px;
            display: none;
            }
            .rest_name{
            position: absolute;
            color: white;
            font-size:17px;
            width: 94px;
            text-align: center;
            word-wrap: break-word;
            top: 63px;
            left: 53px;
            }
            .produto_nome{
            position: absolute;
            color: white;
            font-size: 17px;
            width: 144px;
            text-align: center;
            word-wrap: break-word;
            top: 60px;
            }
            .produto_preço{
            position: absolute;
            color: white;
            font-size: 17px;
            width: 144px;
            text-align: center;
            word-wrap: break-word;
            top: 78px;
            }
            .produto_button {
            position: absolute;
            left: 11px;
            top: 60px;
            background-color: #ff971f;
            color: white;
            word-wrap: break-word;
            border: 1px solid white;
            border-radius: 12px;
            padding: 2px 9px;
            font-size: 16px;
            display: none;
            }
            .bolas_menu_produtos{
            position: absolute;
            width: 38px;
            top: 107px;
            display: none;
            left: 60px;
            }
            .plus{
            position: absolute;
            top: 60px;
            left: 47px;
            background-image: url( 'plus.png' );
            background-size: 18px 18px;
            height: 20px;
            width: 20px;
            display: none;
            border: 1px solid #35323d;
            }
            .minus{
            position: absolute;
            top: 60px;
            left: 93px;
            background-image: url('minus.png');
            background-size: 18px 18px;
            height: 20px;
            width: 20px;
            display: none;
            border: 1px solid #35323d;
            }
            .number_of_products{
            position: absolute;
            top: 60px;
            left: 75px;
            font-size: 18px;
            color: white;
            text-align: center;
            }
            .bolas_menu_restaurantes{
            position: absolute;
            width: 38px;
            top: 107px;
            display: none;
            left: 60px;
            }
            .continuar_prods{
            border-radius: 15%;
            background-color: #ff971e;
            position: absolute;
            top: 86px;
            left: 41px;
            color: white;
            padding: 7px;
            text-align: center;
            border: 1px solid white;
            display: none;
            font-size: 14px;
            }
            .empty{
            position: absolute;
            top: 85px;
            width: 144px;
            color: white;
            font-size: 14px;
            text-align: center;
            }
            .finalizar_button {
            position: absolute;
            left: 15px;
            top: 35px;
            background-color: #ff971e;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 8px 30px;/* Green */
            font-size: 18px;
            display: none;
            }
            .preçofinal{
            width: 144px;
            position: absolute;
            word-wrap: break-word;
            top: 39px;
            font-size: 15px;
            color: white;
            text-align:center;
            }
            .adicionar_mais_button {
            position: absolute;
            left: 14px;
            top: 79px;
            background-color: #ff971e;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 1px 7px;/* Green */
            font-size: 16px;
            display: none;
            }
            .sim_button {
            position: absolute;
            left: 88px;
            top: 85px;
            background-color: #546f46;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 2px 10px;/* Green */
            font-size: 16px;
            display: none;
            }
            .nao_button {
            position: absolute;
            left: 20px;
            top: 85px;
            background-color: #c11410;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 2px 10px;/* Green */
            font-size: 16px;
            display: none;
            }
            .finaltext{
            width: 144px;
            position: absolute;
            top: 38px;
            text-align: center;
            font-size: 15px;
            color: white;
            }
            .timer{
            width: 144px;
            position: absolute;
            top: 80px;
            text-align: center;
            font-size: 17px;
            color: white;
            display: none;
            }
            .lista_carrinho{
            position: absolute;
            width: 144px;
            height: 46px;
            top:31px;
            color: white;
            font-size: 14px;
            overflow-y: auto;
            display: none
            }
            .prod1{
            padding-top:10%;
            border-bottom: 1px solid white;
            padding-bottom:0%;
            }
            .prod2{
            border-bottom: 1px solid white;
            padding-top:10%;
            }
            .prod3{
            border-bottom: 1px solid white;
            padding-bottom:0.5%;
            padding-top:10%;
            }
            .prod4{
            border-bottom: 1px solid white;
            padding-top:10%;
            }
            .finalizar {
            position: absolute;
            left: 84px;
            top: 89px;
            background-color: #546f46;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 2px 4px;/* Green */
            font-size: 14px;
            display: none;
            }
            .voltar {
            position: absolute;
            left: 14px;
            top: 89px;
            background-color: #c11410;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 2px 11px;/* Green */
            font-size: 14px;
            display: none;
            }
            .button_friends{
            display:none;
            position: absolute;
            top: 32px;
            left: 40px;
            }
            .adicionar {
            position: absolute;
            left: 15px;
            top: 32px;
            background-color: #546f46
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 10px 21px;/* Green */
            font-size: 18px;
            display: none;
            }
            .remover {
            position: absolute;
            left: 15px;
            top: 81px;
            background-color: #546f46;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 10px 46px;/* Green */
            font-size: 18px;
            display: none;
            }
            .add_friends{
            position: absolute;
            left: 39px;
            top: 93px;
            background-color: #2f4d7f;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 4px 11px;/* Green */
            font-size: 14px;
            display: none;
            }
            .lista_amigos{
            position: absolute;
            width: 144px;
            height: 53px;
            top:31px;
            color: white;
            font-size: 14px;
            overflow-y: auto;
            display: none
            }
            .lista_amigos a{
            background-color: #35323d;
            color: white;
            display: none;
            padding: 12px;
            text-decoration: none;
            border: 1px solid white;
            border-left: 1px solid #35323d;
            border-right: 1px solid #35323d;
            padding: 3%;
            text-align: center;
            }
            .no_friends{
            position: absolute;
            top: 50px;
            width: 144px;
            word-wrap: break-word;
            color: white;
            font-size: 14px;
            text-align: center;
            display: none;
            }
            .nfc{
            position: absolute;
            height: 50px;
            width: 144px;
            top: 70px;
            display: none;
            }
            .nfc_text{
            width: 144px;
            position: absolute;
            text-align: center;
            top: 34px;
            color: white;
            font-size: 15px;
            display: none;
            }
            .nfc_button {
            background-color: #35323d; /* Green */
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            margin: 4px 2px;
            cursor: pointer;
            position: absolute;
            top: 200px;
            left: 6px;
            }
            .loader {
            position: absolute;
            top: 46px;
            left: 49px;
            display: none;
            border: 12px solid #f3f3f3;
            border-radius: 50%;
            border-top: 12px solid #2f4d7f;
            width: 40px;
            height: 40px;
            -webkit-animation: spin 2s linear infinite; /* Safari */
            animation: spin 2s linear infinite;
            }
            /* Safari */
            @-webkit-keyframes spin {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
            }
            @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
            }
            .add_success{
            position: absolute;
            display: none;
            width: 144px;
            top: 45px;
            color: white;
            font-size: 14px;
            text-align: center;
            word-wrap: break-word;
            }
            .voltar_lista{
            position: absolute;
            left: 52px;
            top: 89px;
            background-color: #2f4d7f;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 2px 11px;/* Green */
            font-size: 14px;
            display: none;
            }
            .amigo_selecionado{
            display: none;
            position: absolute;
            width: 144px;
            top: 33px;
            font-size: 16px;
            color: white;
            text-align: center;
            }
            .remover{
            position: absolute;
            left: 10px;
            top: 54px;
            background-color: #2f4d7f;
            color: white;
            border: 2px solid white;
            border-radius: 12px;
            padding: 2px 32px;/* Green */
            font-size: 18px;
            display: none;
            }
            .encontrar{
            position: absolute;
            left: 10px;
            top: 89px;
            background-color: #2f4d7f;
            color: white;
            border: 2px solid white;
            border-radius: 12px;
            padding: 2px 30px;/* Green */
            font-size: 18px;
            display: none;
            }
            .remover_text{
            width: 144px;
            position: absolute;
            top: 35px;
            color: white;
            font-size: 13px;
            display: none;
            text-align: center;
            }
            .remover_sim{
            position: absolute;
            left: 88px;
            top: 85px;
            background-color: #546f46;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 2px 10px;/* Green */
            font-size: 16px;
            display: none;
            }
            .remover_nao{
            position: absolute;
            left: 20px;
            top: 85px;
            background-color: #c11410;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 2px 10px;/* Green */
            font-size: 16px;
            display: none;
            }
            .caminho{
            display: none;
            top: 32px;
            position:absolute;
            height: 91px;
            width: 144px;
            }
            .button_gps{
            display:none;
            position: absolute;
            top: 32px;
            left: 40px;
            }
            .amigos_botao_mapa{
            display:none;
            position: absolute;
            left: 12px;
            top: 35px;
            background-color: #1aa260;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 9px 37px;/* Green */
            font-size: 18px;
            display: none;
            }
            .lugares_botao_mapa {
            position: absolute;
            left: 12px;
            top: 79px;
            background-color: #1aa260;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 9px 35px;/* Green */
            font-size: 18px;
            display: none;
            }
            .mudar_para_amigos{
            position: absolute;
            left: 14px;
            top: 79px;
            background-color: #1aa260;
            color: white;
            border: 1px solid white;
            border-radius: 12px;
            padding: 1px 14px;/* Green */
            font-size: 15px;
            display: none;
            }
            .lista_lugares{
            position: absolute;
            width: 144px;
            height: 92px;
            top:31px;
            color: white;
            font-size: 14px;
            overflow-y: auto;
            display: none
            }
            .lista_lugares a{
            background-color: #35323d;
            color: white;
            display: block;
            padding: 12px;
            text-decoration: none;
            border: 1px solid white;
            border-left: 1px solid #35323d;
            border-right: 1px solid #35323d;
            padding: 3%;
            text-align: center;
            }
            .imagem_lugar{
            position: absolute;
            display: none;
            top: 32px;
            width: 144px;
            height: 91px;
            }
            .bolas_menu_4{
            position: absolute;
            top: 116px;
            left: 43px;
            display: none
            }
        </style>
        <script type="text/javascript">
            var previousScreen;
            var chosenTime = "15:00";
            var musics = ["Hardwired","Enter Sandman","Master Of Puppets","Seek and Destroy","One","Sad But True","Moth to Flame","Turn The Page","Fade To Black","St. Anger","The Unforgiven","Halo On Fire","Fuel","Battery","Orion","The Call Of Ktulu","Blackened"];
            var hours = ["15:00","15:05","15:10","15:18","15:25","15:33","15:38","15:45","15:54","16:01","16:07","16:13","16:21","16:31","16:37","16:45","16:53"];
            var numberOfOrders = 0;
            
            var products = [[0,0],[0,0]];   //[0][0] #frango rest ze, [0][1] #febras rest ze
            var price = [[7,5],[6,4]];
            
            var seconds = 60;
            var timer;
            
            
            var numberOfFriends = 0;
            var friends = [[0],[0],[0],[0],[0],[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]];
            
            var temp;
            
            var adding = 0; //adding = 0: nao estamos no ecra de adicionar; adding=1: estamos no ecra de adicionar.
            
            
            function swapToMenu(){
              if(document.getElementById("pic").src.endsWith("Home.png")){
                document.getElementById("menubutton").style.display = "none";
                document.getElementById("pic").src = "Placeholder_Menu2_Musica.png";
                document.getElementById('music_menu_text').innerHTML="Música"
                document.getElementById('menu').coords="0,0,0";
                document.getElementById('back_button').style.display="block";
                document.getElementById('relogio').className="top-right";
                document.getElementById('dia').style.fontSize="0px" ;
                document.getElementById('music_button').style.display='block';
                document.getElementById('bolas_menu_4').src="bolas_4_1.png";
                document.getElementById('bolas_menu_4').style.display="block";
            
            
              }
              else if(document.getElementById("pic").src.endsWith("Placeholder_Musica_ATocar_JaTocou.png")){
                document.getElementById("pic").src = "Placeholder_Menu2_Musica.png";
                document.getElementById('atocar_button').style.display='none';
                document.getElementById('jatocou_button').style.display='none';
                document.getElementById('music_button').style.display='block';
            
              }
              previousScreen = "Home.png";
            }
            
            
            
            function swapToMusic(){
              if(document.getElementById("pic").src.endsWith("Placeholder_Menu2_Musica.png")){
                document.getElementById("pic").src = "Placeholder_Musica_ATocar_JaTocou.png";
                document.getElementById('menu').coords="0,0,0";
                document.getElementById('back_button').style.display="block";
                document.getElementById('atocar_button').style.display='block';
                document.getElementById('jatocou_button').style.display='block';
                document.getElementById('music_button').style.display='none';
                document.getElementById('bolas_menu_4').style.display="none";
            
              }
              else if (document.getElementById("pic").src.endsWith("Placeholder_Musica_HoraCerta_Lista.png")){
                document.getElementById("pic").src = "Placeholder_Musica_ATocar_JaTocou.png";
                document.getElementById('atocar_button').style.display='block';
                document.getElementById('jatocou_button').style.display='block';
                document.getElementById('horacerta_button').style.display='none';
                document.getElementById('lista_button').style.display='none';
                document.getElementById('bolas_menu_4').style.display="none";
            
              }
              else if (document.getElementById("pic").src.endsWith("Placeholder_Musica_ATocar_Exemplo.png") || document.getElementById("pic").src.endsWith("Musica_Sem_Concerto.png")){
                document.getElementById("pic").src = "Placeholder_Musica_ATocar_JaTocou.png";
                document.getElementById('atocar_button').style.display='block';
                document.getElementById('jatocou_button').style.display='block';
                document.getElementById('horacerta_button').style.display='none';
                document.getElementById('lista_button').style.display='none';
                document.getElementById("texto_artista_fixo").innerHTML = "";
                document.getElementById("texto_musica_fixa").innerHTML = "";
                document.getElementById('bolas_menu_4').style.display="none";
            
              }
              previousScreen = "Placeholder_Menu2_Musica.png";
            }
            
            function swapToPresentMusic(time){
              if (time > "17:00" || time < "15:00"){
                document.getElementById("pic").src = "Musica_Sem_Concerto.png";
                document.getElementById("no_Music").innerHTML = "Não está a tocar nenhuma música";
                document.getElementById('menu').coords="0,0,0";
                document.getElementById('back_button').style.display="block";
                document.getElementById('atocar_button').style.display='none';
                document.getElementById('jatocou_button').style.display='none';
              }
              else {
                document.getElementById("pic").src = "Placeholder_Musica_ATocar_Exemplo.png";
                document.getElementById('menu').coords="0,0,0";
                document.getElementById('back_button').style.display="block";
                document.getElementById('atocar_button').style.display='none';
                document.getElementById('jatocou_button').style.display='none';
                //document.getElementById('musica_a_tocar').style.display='block';
            
            
                if( time >= "15:00" && time <= "15:04"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Hardwired";
                }
                else if( time > "15:04" && time <= "15:09"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Enter Sandman";
                }
                else if( time > "15:09" && time <= "15:17"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Master Of Puppets";
                }
                else if( time > "15:17" && time <= "15:24"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Seek and Destroy";
                }
                else if( time > "15:24" && time <= "15:32"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "One";
                }
                else if( time > "15:32" && time <= "15:37"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Sad But True";
                }
                else if( time > "15:37" && time <= "15:44"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Moth to Flame";
                }
                else if( time > "15:44" && time <= "15:53"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Turn The Page";
                }
                else if( time > "15:53" && time <= "16:00"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Fade To Black";
                }
                else if( time > "16:00" && time <= "16:06"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "St. Anger";
                }
                else if( time > "16:06" && time <= "16:12"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "The Unforgiven";
                }
                else if( time > "16:12" && time <= "16:21"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Halo On Fire";
                }
                else if( time > "16:21" && time <= "16:30"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Fuel";
                }
                else if( time > "16:30" && time <= "16:36"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Battery";
                }
                else if( time > "16:36" && time <= "16:44"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Orion";
                }
                else if( time > "16:44" && time <= "16:53"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "The Call Of Ktulu";
                }
                else if( time > "16:53" && time <= "17:00"){
                  document.getElementById("texto_artista_fixo").innerHTML = "Metallica";
                  document.getElementById("texto_musica_fixa").innerHTML = "Blackened";
                }
            
            
              }
              previousScreen = "Placeholder_Musica_ATocar_JaTocou.png";
            }
            
            function swapToEarlierMusic(){
              if(document.getElementById("pic").src.endsWith("Placeholder_Musica_ATocar_JaTocou.png")){
                document.getElementById("pic").src = "Placeholder_Musica_HoraCerta_Lista.png";
                document.getElementById('menu').coords="0,0,0";
                document.getElementById('back_button').style.display="block";
                document.getElementById('atocar_button').style.display='none';
                document.getElementById('jatocou_button').style.display='none';
                document.getElementById('horacerta_button').style.display='block';
                document.getElementById('lista_button').style.display='block';
            
              }
              else if(document.getElementById("pic").src.endsWith("Placeholder_Musica_HoraCerta_SlideHoras.png") || document.getElementById("pic").src.endsWith("Musica_Lista.png")) {
                document.getElementById("pic").src = "Placeholder_Musica_HoraCerta_Lista.png";
                document.getElementById('horacerta_button').style.display='block';
                document.getElementById('lista_button').style.display='block';
                document.getElementById('time').setAttribute("type","hidden");
                document.getElementById('ok_button').style.display='none';
                document.getElementById("texto_erro_hora").innerHTML="";
                document.getElementById("hora_erro_hora").innerHTML="";7
                document.getElementById("right_button_list").style.display="none";
                document.getElementById("left_button_list").style.display="none";
                document.getElementById("hora_lista").innerHTML="";
                document.getElementById("artista_lista").innerHTML="";
                document.getElementById("musica_lista").innerHTML="";
            
              }
            
              previousScreen = "Placeholder_Musica_ATocar_JaTocou.png";
            }
            
            function swapToDefineHour(time){
            
              if(document.getElementById("pic").src.endsWith("Placeholder_Musica_HoraCerta_Lista.png")){
                document.getElementById("pic").src = "Placeholder_Musica_HoraCerta_SlideHoras.png";
                document.getElementById('horacerta_button').style.display='none';
                document.getElementById('lista_button').style.display='none';
                document.getElementById('time').setAttribute("type","time");
                document.getElementById('time').setAttribute("value",time);
                document.getElementById('ok_button').style.display='block';
              }
            
              else {
                document.getElementById("pic").src = "Placeholder_Musica_HoraCerta_SlideHoras.png";
                document.getElementById('time').setAttribute("type","time");
                document.getElementById('time').setAttribute("value",time);
                document.getElementById('ok_button').style.display='block';
                document.getElementById("texto_artista_fixo").innerHTML = "";
                document.getElementById("texto_musica_fixa").innerHTML = "";
              }
              previousScreen = "Placeholder_Musica_HoraCerta_Lista.png";
            }
            
            function swapToListOfMusics(){
              document.getElementById("pic").src = "Musica_Lista.png";
              document.getElementById('horacerta_button').style.display='none';
              document.getElementById('lista_button').style.display='none';
              document.getElementById("right_button_list").style.display="block";
              document.getElementById("left_button_list").style.display="block";
              document.getElementById("hora_lista").innerHTML="15:00";
              document.getElementById("artista_lista").innerHTML="Metallica";
              document.getElementById("musica_lista").innerHTML="Hardwired";
            
            
              previousScreen = "Placeholder_Musica_HoraCerta_Lista.png";
            }
            
            
            
            
            function getHourForMusic(){
              chosenTime = document.getElementById("time").value;
              swapToPresentMusic(chosenTime);
              document.getElementById('ok_button').style.display='none';
              document.getElementById('time').setAttribute("type","hidden");
              previousScreen = "Placeholder_Musica_HoraCerta_SlideHoras.png";
            }
            
            function checkInputTime(){
            
              if(document.getElementById('relogio').innerHTML > "17:00"){
                if(document.getElementById("time").value > "17:00" || document.getElementById("time").value < "15:00"){
                  document.getElementById('ok_button').style.display='none';
                  document.getElementById('texto_erro_hora').className="texto_erro_1";
                  document.getElementById('hora_erro_hora').className="hora_erro_1";
                  document.getElementById("texto_erro_hora").innerHTML="Insira um valor entre";
                  document.getElementById("hora_erro_hora").innerHTML="15:00 e 17:00.";
                }
                else {
                  chosenTime = document.getElementById("time").value;
                  document.getElementById('ok_button').style.display='block';
                  document.getElementById("texto_erro_hora").innerHTML="";
                  document.getElementById("hora_erro_hora").innerHTML="";
                }
              }
              else{
                var tempo_real = document.getElementById('relogio').innerHTML;
                if(document.getElementById("time").value > tempo_real){
                  document.getElementById('ok_button').style.display='none';
                  document.getElementById('texto_erro_hora').className="texto_erro_2";
                  document.getElementById('hora_erro_hora').className="hora_erro_2";
                  document.getElementById("texto_erro_hora").innerHTML="Insira um valor menor";
                  document.getElementById("hora_erro_hora").innerHTML="que a hora atual.";
            
                }
                else if(document.getElementById("time").value < tempo_real){
                  if(document.getElementById("time").value > "17:00" || document.getElementById("time").value < "15:00"){
                    document.getElementById('ok_button').style.display='none';
                    document.getElementById('texto_erro_hora').className="texto_erro_1";
                    document.getElementById('hora_erro_hora').className="hora_erro_1";
                    document.getElementById("texto_erro_hora").innerHTML="Insira um valor entre";
                    document.getElementById("hora_erro_hora").innerHTML="15:00 e 17:00.";
                  }
                  else {
                    chosenTime = document.getElementById("time").value;
                    document.getElementById('ok_button').style.display='block';
                    document.getElementById("texto_erro_hora").innerHTML="";
                    document.getElementById("hora_erro_hora").innerHTML="";
                  }
            
                }
              }
            }
            
            function checkInputTime2(){
              if(document.getElementById("hora_erro_hora").innerHTML!=""){
                chosenTime = document.getElementById("time").value;
                document.getElementById('ok_button').style.display='block';
                document.getElementById("texto_erro_hora").innerHTML="";
                document.getElementById("hora_erro_hora").innerHTML="";
            
              }
            }
            
            
            function swapToNextMusic(){
              var i;
            
              for(i=0; i<17;i++){
                if(document.getElementById("musica_lista").innerHTML==musics[i]){
                  if((i+1)==17){
                    i=-1;
                  }
                  document.getElementById("musica_lista").innerHTML=musics[i+1];
                  document.getElementById("hora_lista").innerHTML=hours[i+1];
                  break
                }
              }
            
            }
            
            function swapToPreviousMusic(){
              var i;
            
              for(i=0; i<17;i++){
                if(document.getElementById("musica_lista").innerHTML==musics[i]){
                  if((i-1)==-1){
                    i=17;
                  }
                  document.getElementById("musica_lista").innerHTML=musics[i-1];
                  document.getElementById("hora_lista").innerHTML=hours[i-1];
                  break
                }
              }
            
            }
            
            
            function back(){
              if(previousScreen == "Placeholder_Musica_ATocar_JaTocou.png"){
                swapToMusic();
                document.getElementById("no_Music").innerHTML = "";
                //document.getElementById('musica_a_tocar').style.display='none';
            
              }
              else if(previousScreen == "Placeholder_Menu2_Musica.png"){
                swapToMenu();
                document.getElementById("bolas_menu_4").src="bolas_4_1.png"
                document.getElementById("bolas_menu_4").style.display="block";
                //document.getElementById('musica_a_tocar').style.display='none';
            
              }
              else if(previousScreen == "Home.png"){
            
                document.getElementById("menubutton").style.display = "block";
                document.getElementById("menubutton").src = "MenuButton.png";
                document.getElementById("pic").src = "Home.png";
                document.getElementById('music_menu_text').innerHTML=""
                document.getElementById('back_button').style.display = "none";
                document.getElementById('menu').coords = " 72,119,25";
                document.getElementById('relogio').className="center";
                document.getElementById('dia').style.fontSize="18px" ;
                document.getElementById('music_button').style.display="none" ;
                document.getElementById('meals_button').style.display="none" ;
                document.getElementById("music_menu_text").style.left="51px";
                document.getElementById("button_friends").style.display="none";
                document.getElementById("button_gps").style.display="none";
                document.getElementById("bolas_menu_4").style.display="none";
            
            
              }
              else if(previousScreen == "Placeholder_Musica_HoraCerta_Lista.png"){
                swapToEarlierMusic();
                //document.getElementById('musica_a_tocar').style.display='none';
            
              }
            
              else if(previousScreen == "Placeholder_Musica_HoraCerta_SlideHoras.png"){
                swapToDefineHour(chosenTime);
                //document.getElementById('musica_a_tocar').style.display='none';
            
              }
            
              else if(previousScreen == "MenuRefeicoes"){
                document.getElementById("pic").src="Menu2_Refeicoes.png"
                document.getElementById("separator1").style.display="none";
                document.getElementById("separator2").style.display="none";
                document.getElementById("separator3").style.display="none";
                document.getElementById("meals_button").style.display="block";
                document.getElementById("rest_icon").style.display="none";
                document.getElementById("establecimentos_text").innerHTML="";
                document.getElementById("rest_name").innerHTML="";
                document.getElementById("bolas_menu_restaurantes").style.display="none";
                document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                document.getElementById("carrinho").src="carrinho.png";
                document.getElementById("carrinho").style.display="none";
                document.getElementById("bolas_menu_4").src="bolas_4_2.png"
                document.getElementById("bolas_menu_4").style.display="block";
            
                previousScreen = "Home.png"
            
            
              }
            
              else if(previousScreen == "Ecra_Establecimentos"){
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("number_of_products").style.display="block";
                document.getElementById("number_of_products").innerHTML="";
                document.getElementById("separator3").style.display="block";
                document.getElementById("establecimentos_text").innerHTML="Establecimentos";
                document.getElementById("rest_icon").style.display="block";
                document.getElementById("rest_name").innerHTML="Restaurante do Zé";
                document.getElementById("produto_nome").innerHTML="";
                document.getElementById("produto_preço").innerHTML=""
                document.getElementById("produto_button").style.display="none";
                document.getElementById("produto_button").innerHTML="Frango + Bebida</br>7€";
                document.getElementById("bolas_menu_produtos").style.display="none";
                document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                document.getElementById("bolas_menu_restaurantes").style.display="block";
                document.getElementById("bolas_menu_restaurantes").src="bolas_menu_comida_1.png";
                document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                document.getElementById("finalizar_button").style.display="none";
                document.getElementById("adicionar_mais_button").style.display="none";
                previousScreen = "MenuRefeicoes";
              }
            
              else if(previousScreen == "ProductChoice"){
            
                if(document.getElementById("establecimentos_text").innerHTML=="Frango + Bebida" || document.getElementById("establecimentos_text").innerHTML=="Febras + Bebida" ){
                  document.getElementById("produto_button").innerHTML="Frango + Bebida</br>7€";      //APAGAR ESTAS DUAS LINHAS SE FOR PARA VOLTAR AO MESMO PRODUTO QUANDO SE FAZ BACK \\
                  document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                }
            
                else if(document.getElementById("establecimentos_text").innerHTML=="Bifana + Bebida" || document.getElementById("establecimentos_text").innerHTML=="Burguer + Bebida" ){
                  document.getElementById("produto_button").innerHTML="Bifana + Bebida</br>6€";      //APAGAR ESTAS DUAS LINHAS SE FOR PARA VOLTAR AO MESMO PRODUTO QUANDO SE FAZ BACK \\
                  document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                  document.getElementById("produto_button").style.padding="2px 12px"; //2 9
                  document.getElementById("produto_button").style.left="11px";
                }
            
                document.getElementById("produto_button").style.display="block";
                document.getElementById("establecimentos_text").innerHTML="Produtos";
                document.getElementById("number_of_products").innerHTML="";
                document.getElementById("plus").style.display="none";
                document.getElementById("minus").style.display="none";
                document.getElementById("continuar_prods").style.display="none";
                document.getElementById("bolas_menu_restaurantes").src="bolas_menu_comida_1.png";
                document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                document.getElementById("bolas_menu_produtos").style.display="block";
                document.getElementById("empty").innerHTML="";
                previousScreen = "Ecra_Establecimentos";
            
              }
            
              else if(previousScreen == "AddProduct"){
                document.getElementById("continuar_prods").style.display="block";
                document.getElementById("plus").style.display="block";
                document.getElementById("minus").style.display="block";
                document.getElementById("separator3").style.display="block";
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("number_of_products").style.display="block";
                document.getElementById("finalizar_button").style.display="none";
                document.getElementById("adicionar_mais_button").style.display="none";
                document.getElementById("carrinho").src="carrinho.png";
                document.getElementById("carrinho").style.display="block";
                previousScreen = "ProductChoice";
            
              }
            
              else if(previousScreen == "Transition"){
                document.getElementById("finalizar_button").style.display="block";
                document.getElementById("adicionar_mais_button").style.display="block";
                document.getElementById("preçofinal").innerHTML="";
                document.getElementById("sim_button").style.display="none";
                document.getElementById("nao_button").style.display="none";
                document.getElementById("preçofinal").innerHTML="";
                document.getElementById("preçofinal").style.display="block";
            
                previousScreen = "AddProduct";
            
              }
            
              else if(previousScreen == "End"){
                if(document.getElementById("timer").innerHTML==""){
                  document.getElementById("finaltext").innerHTML="";
                  document.getElementById("carrinho").style.display="block";
                  previousScreen="Ecra_Establecimentos";
                  back();
                }
                else{
                  document.getElementById("finaltext").style.display="none";
                  document.getElementById("timer").style.display="none";
                  previousScreen = "MenuRefeicoes";
                  back();
                }
            
              }
            
              else if(previousScreen == "carrinho1"){
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("separator3").style.display="block";
                document.getElementById("carrinho").style.display="block";
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("rest_name").style.display="block";
                document.getElementById("rest_icon").style.display="block";
                document.getElementById("bolas_menu_restaurantes").style.display="block";
                document.getElementById("lista_carrinho").style.display="none";
                document.getElementById("prod1").style.display="none";
                document.getElementById("prod2").style.display="none";
                document.getElementById("prod3").style.display="none";
                document.getElementById("prod4").style.display="none";
                document.getElementById("prod_text").style.display="none";
                document.getElementById("continuar_prods").style.display="none";
                document.getElementById("finalizar").style.display="none";
                document.getElementById("voltar").style.display="none";
            
                previousScreen = "MenuRefeicoes";
            
            
              }
              else if(previousScreen == "carrinho2"){
                document.getElementById("bolas_menu_produtos").style.display="block";
                document.getElementById("produto_button").style.display="block";
                document.getElementById("separator3").style.display="block";
                document.getElementById("carrinho").style.display="block";
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("lista_carrinho").style.display="none";
                document.getElementById("prod1").style.display="none";
                document.getElementById("prod2").style.display="none";
                document.getElementById("prod3").style.display="none";
                document.getElementById("prod4").style.display="none";
                document.getElementById("continuar_prods").style.display="none";
                document.getElementById("finalizar").style.display="none";
                document.getElementById("voltar").style.display="none";
            
                previousScreen = "Ecra_Establecimentos";
            
              }
              else if(previousScreen == "carrinho3"){
                document.getElementById("number_of_products").style.display="block";
                document.getElementById("plus").style.display="block";
                document.getElementById("minus").style.display="block";
                document.getElementById("continuar_prods").style.display="block";
                document.getElementById("separator3").style.display="block";
                document.getElementById("carrinho").style.display="block";
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("lista_carrinho").style.display="none";
                document.getElementById("prod1").style.display="none";
                document.getElementById("prod2").style.display="none";
                document.getElementById("prod3").style.display="none";
                document.getElementById("finalizar").style.display="none";
                document.getElementById("voltar").style.display="none";
                document.getElementById("prod4").style.display="none";
            
                previousScreen = "ProductChoice";
              }
            
              else if(previousScreen == "carrinho1.1"){
                document.getElementById("prod_text").innerHTML="";
                document.getElementById("lista_carrinho").style.display="none";
            
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("separator3").style.display="block";
                document.getElementById("carrinho").style.display="block";
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("rest_name").style.display="block";
                document.getElementById("rest_icon").style.display="block";
                document.getElementById("bolas_menu_restaurantes").style.display="block";
                previousScreen = "MenuRefeicoes";
            
            
              }
            
              else if(previousScreen =="carrinho2.1"){
                document.getElementById("prod_text").innerHTML="";
                document.getElementById("lista_carrinho").style.display="none";
            
                document.getElementById("bolas_menu_produtos").style.display="block";
                document.getElementById("produto_button").style.display="block";
                document.getElementById("separator3").style.display="block";
                document.getElementById("carrinho").style.display="block";
                document.getElementById("establecimentos_text").style.display="block";
                previousScreen = "Ecra_Establecimentos";
            
              }
            
              else if(previousScreen =="carrinho3.1"){
                document.getElementById("lista_carrinho").style.display="none";
                document.getElementById("prod_text").innerHTML="";
                document.getElementById("number_of_products").style.display="block";
                document.getElementById("plus").style.display="block";
                document.getElementById("minus").style.display="block";
                document.getElementById("continuar_prods").style.display="block";
                document.getElementById("separator3").style.display="block";
                document.getElementById("carrinho").style.display="block";
                document.getElementById("establecimentos_text").style.display="block";
                previousScreen = "ProductChoice";
            
              }
            
              else if (previousScreen =="carrinhoX"){
                document.getElementById("voltar").style.display="block";
                document.getElementById("finalizar").style.display="block";
                document.getElementById("lista_carrinho").style.display="block";
                document.getElementById("preçofinal").style.display="none";
                document.getElementById("sim_button").style.display="none";
                document.getElementById("nao_button").style.display="none";
            
                previousScreen = temp;
              }
            
              else if (previousScreen == "Menu3_friends"){
                document.getElementById("button_friends").src="button_friends.png";
            
                document.getElementById("button_friends").style.display="block";
                document.getElementById("pic").src="Menu3_friends.png";
                document.getElementById("separator1").style.display="none";
                document.getElementById("separator2").style.display="none";
            
                document.getElementById("add_friends").style.display="none";
                document.getElementById("no_friends").style.display="none";
                document.getElementById("bolas_menu_4").src="bolas_4_3.png"
                document.getElementById('bolas_menu_4').style.display="block";
            
                document.getElementById("lista_amigos").style.display="none";
            
            
                previousScreen = "Home.png";
              }
            
              else if(previousScreen == "FriendsList"){
            
                if(numberOfFriends == 0){
                  document.getElementById("no_friends").style.display="block";
                }
                else if( numberOfFriends > 0){
                  document.getElementById("lista_amigos").style.display="block";
                }
                document.getElementById("add_friends").style.display="block";
            
                document.getElementById("nfc").src="NFC-BLACK.png";
                document.getElementById("nfc").style.display="none";
                document.getElementById("nfc_text").style.display="none";
            
                document.getElementById("amigo_selecionado").style.display="none";
                document.getElementById("remover").style.display="none";
                document.getElementById("encontrar").style.display="none";
            
                previousScreen = "Menu3_friends";
              }
            
              else if(previousScreen == "ListaAmigos"){
                swapToFriends();
              }
            
              else if(previousScreen == "Selected_friend"){
                document.getElementById("remover").style.display="block";
                document.getElementById("encontrar").style.display="block";
                document.getElementById("amigo_selecionado").style.display="block"
                document.getElementById("remover_text").style.display="none";
                document.getElementById("remover_sim").style.display="none";
                document.getElementById("remover_nao").style.display="none";
                document.getElementById("caminho").style.display="none";
            
            
                previousScreen = "FriendsList";
              }
            
              else if(previousScreen == "Menu4_GPS"){
                document.getElementById("button_gps").src="button_gps.png";
                document.getElementById("button_gps").style.display="block";
                document.getElementById("pic").src="Menu4_gps.png";
                document.getElementById("separator1").style.display="none";
                document.getElementById("separator2").style.display="none";
                document.getElementById("lugares_botao_mapa").style.display="none";
                document.getElementById("amigos_botao_mapa").style.display="none";
                document.getElementById("bolas_menu_4").src="bolas_4_4.png"
                document.getElementById("bolas_menu_4").style.display="block";
                previousScreen = "Home.png";
              }
            
              else if(previousScreen == "Amigos_Lugares"){
                document.getElementById("lugares_botao_mapa").style.display="block";
                document.getElementById("amigos_botao_mapa").style.display="block";
                document.getElementById("lista_amigos").style.display="none";
                document.getElementById("lista_amigos").style.height="53px";
                document.getElementById("no_friends").style.display="none";
                document.getElementById("no_friends").style.top="50px";
                document.getElementById("mudar_para_amigos").style.display="none";
                document.getElementById("lista_lugares").style.display="none";
            
                previousScreen = "Menu4_GPS";
            
              }
            
              else if(previousScreen == "Amigos_gps"){
                document.getElementById("caminho").style.display="none";
                document.getElementById("lista_amigos").style.display="block";
            
                previousScreen = "Amigos_Lugares";
              }
            
              else if(previousScreen == "ListaLugares"){
              		document.getElementById("lista_lugares").style.display="block";
            		document.getElementById("imagem_lugar").style.display="none";
            		previousScreen = "Amigos_Lugares";
              }
            }
            
            //FUNCOES PARA FUNCIONALIDADE 2
            
            function swapToMealsApp(){
            
              if(numberOfOrders == 0){
                document.getElementById("pic").src="background.png";
                document.getElementById("meals_button").style.display="none";
                document.getElementById("separator1").src="separator.png";
                document.getElementById("separator2").src="separator.png";
                document.getElementById("separator3").src="separator.png";
                document.getElementById("rest_icon").src="Restaurante_Icon.png";
                document.getElementById("separator1").style.display="block";
                document.getElementById("separator2").style.display="block";
                document.getElementById("separator3").style.display="block";
                document.getElementById("rest_icon").style.display="block";
                document.getElementById("rest_name").innerHTML="Restaurante do Zé";
                document.getElementById("establecimentos_text").style.display="block";
                document.getElementById("establecimentos_text").innerHTML="Establecimentos";
                document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                document.getElementById("bolas_menu_restaurantes").style.display="block";
                document.getElementById("bolas_menu_restaurantes").src="bolas_menu_comida_1.png";
                document.getElementById("carrinho").src="carrinho.png";
                document.getElementById("carrinho").style.display="block";
                document.getElementById('bolas_menu_4').style.display="none";
            
                previousScreen = "MenuRefeicoes";
            
              }
              else{
                document.getElementById("pic").src="background.png";
                document.getElementById("meals_button").style.display="none";
                document.getElementById("separator1").src="separator.png";
                document.getElementById("separator2").src="separator.png";
                document.getElementById("separator1").style.display="block";
                document.getElementById("separator2").style.display="block";
                document.getElementById("finaltext").style.display="block";
                document.getElementById("timer").style.display="block";
                document.getElementById('bolas_menu_4').style.display="none";
            
                previousScreen = "End";
            
              }
            
            
            
            
            }
            
            function swapToProductChoice(rest){
              if(rest == "Restaurante do Zé"){
                document.getElementById("establecimentos_text").innerHTML="Produtos";
                document.getElementById("rest_icon").style.display="none";
                document.getElementById("rest_name").innerHTML="";
                document.getElementById("produto_button").innerHTML="Frango + Bebida</br>7€";
                //document.getElementById("produto_nome").innerHTML="Frango + Bebida";
                //document.getElementById("produto_preço").innerHTML="7€";
                document.getElementById("produto_button").style.left="11px";
                document.getElementById("produto_button").style.padding="2px 9px";
                document.getElementById("bolas_menu_restaurantes").style.display="none";
                document.getElementById("bolas_menu_produtos").style.display="block";
                document.getElementById("produto_button").style.display="block";
            
            
              }
              else if(rest == "Restaurante do Jaquim"){
                document.getElementById("establecimentos_text").innerHTML="Produtos";
                document.getElementById("rest_icon").style.display="none";
                document.getElementById("rest_name").innerHTML="";
                document.getElementById("bolas_menu_restaurantes").style.display="none";
                document.getElementById("bolas_menu_produtos").style.display="block";
                document.getElementById("produto_button").innerHTML="Bifana + Bebida</br>6€"
                document.getElementById("produto_button").style.padding="2px 12px"; //2 9
                document.getElementById("produto_button").style.left="11px";
                document.getElementById("produto_button").style.display="block";
                //document.getElementById("produto_nome").innerHTML="Bifana + Bebida";
                //document.getElementById("produto_preço").innerHTML="6€";
            
            
            
              }
            
            
              previousScreen = "Ecra_Establecimentos";
            }
            
            function addProducts(product){
              var price;
              var estab;
              if(product=="Frango + Bebida<br>7€"){
                var price=7;
                var estab=1;
                document.getElementById("bolas_menu_produtos").style.display="none";
                document.getElementById("produto_button").style.display="none";
                document.getElementById("establecimentos_text").innerHTML="Frango + Bebida";
                document.getElementById("number_of_products").style.display="block";
                document.getElementById("number_of_products").innerHTML=products[0][0];
                verifyPosition(0,0);
            
            
              }
            
              else if(product=="Febras + Bebida<br>5€"){
                var price=5;
                var estab=1;
                document.getElementById("bolas_menu_produtos").style.display="none";
                document.getElementById("produto_button").style.display="none";
                document.getElementById("establecimentos_text").innerHTML="Febras + Bebida";
                document.getElementById("number_of_products").style.display="block";
                document.getElementById("number_of_products").innerHTML=products[0][1];
                verifyPosition(0,1);
            
            
              }
            
              else if(product=="Bifana + Bebida<br>6€"){
                var price=6;
                var estab=2;
                document.getElementById("bolas_menu_produtos").style.display="none";
                document.getElementById("produto_button").style.display="none";
                document.getElementById("establecimentos_text").innerHTML="Bifana + Bebida";
                document.getElementById("number_of_products").style.display="block";
                document.getElementById("number_of_products").innerHTML=products[1][0];
                verifyPosition(1,0);
            
            
              }
            
              else if(product=="Burguer + Bebida<br>4€"){
                var price=4;
                var estab=2;
                document.getElementById("bolas_menu_produtos").style.display="none";
                document.getElementById("produto_button").style.display="none";
                document.getElementById("establecimentos_text").innerHTML="Burguer + Bebida";
                document.getElementById("number_of_products").style.display="block";
                document.getElementById("number_of_products").innerHTML=products[1][1];
                verifyPosition(1,1);
            
            
              }
            
              document.getElementById("plus").style.display="block";
              document.getElementById("minus").style.display="block";
              document.getElementById("continuar_prods").style.display="block";
            
              previousScreen = "ProductChoice";
            
            }
            
            
            function continuar(){
              var i;
              var j;
              var sum = 0;
            
              for(i = 0; i<2; i++){
                for(j = 0; j<2; j++){
                  sum = sum + products[i][j];
                }
              }
            
            
              if (sum == 0){//vazio
                document.getElementById("continuar_prods").style.display="none";
                document.getElementById("empty").innerHTML="Adicione pelo menos um produto";
                console.log(sum);
            
              }
            
              else{
                console.log(sum);
                document.getElementById("continuar_prods").style.display="none";
                document.getElementById("plus").style.display="none";
                document.getElementById("minus").style.display="none";
                document.getElementById("separator3").style.display="none";
                document.getElementById("establecimentos_text").style.display="none";
                document.getElementById("number_of_products").style.display="none";
                document.getElementById("finalizar_button").style.display="block";
                document.getElementById("adicionar_mais_button").style.display="block";
                document.getElementById("carrinho").src="carrinho.png";
                document.getElementById("carrinho").style.display="none";
                previousScreen = "AddProduct";
            
            
            
            
            
              }
            }
            
            function finalizar(){
              var totalPrice = 0;
              var i,j;
            
              for(i=0; i<2; i++){
                for(j=0; j<2; j++){
                  totalPrice = totalPrice + (products[i][j]*price[i][j]);
                }
              }
            
              document.getElementById("finalizar_button").style.display="none";
              document.getElementById("adicionar_mais_button").style.display="none";
            
              document.getElementById("lista_carrinho").style.display="none";
              document.getElementById("finalizar").style.display="none";
              document.getElementById("voltar").style.display="none";
            
              document.getElementById("preçofinal").style.display="block";
              document.getElementById("preçofinal").innerHTML="Total: " + totalPrice +"€.</br>Pretende continuar?"
              document.getElementById("sim_button").style.display="block";
              document.getElementById("nao_button").style.display="block";
            
              temp = previousScreen;
            
              previousScreen = "carrinhoX";
            
            }
            
            
            function finish(){
              seconds = 60;
              numberOfOrders++;
              products=[[0,0],[0,0]];
            
            
            
              document.getElementById("preçofinal").style.display="none";
              document.getElementById("sim_button").style.display="none";
              document.getElementById("nao_button").style.display="none";
              document.getElementById("finaltext").style.top="38px";
              document.getElementById("finaltext").style.display="block";
              document.getElementById("finaltext").innerHTML = "Os seus produtos estarão prontos em:";
              document.getElementById("timer").style.display="block";
              document.getElementById("timer").innerHTML = "1m00s";
            
            
              timer = setInterval(function(){ countdown(); }, 1000);
            
              previousScreen = "End";
            }
            
            function countdown(){
              if(seconds < 60) {
                seconds = checkTime(seconds);
                document.getElementById("timer").innerHTML = "0m"+seconds+"s";
              }
              if (seconds > 0 ) {
                seconds--;
              } else {
                clearInterval(timer);
                numberOfOrders--;
                document.getElementById("timer").innerHTML = "";
                document.getElementById("finaltext").innerHTML = "Pode levantar os seus produtos."
                document.getElementById("finaltext").style.top="60px"
            
              }
            }
            
            function BackVariant(){
            
              previousScreen = "Ecra_Establecimentos";
              document.getElementById("carrinho").src="carrinho.png";
              document.getElementById("carrinho").style.display="block";
              back();
            }
            
            function reset_continuar_button(){
              document.getElementById("continuar_prods").style.display="block";
              document.getElementById("empty").innerHTML="";
            }
            
            function verifyPosition(x,y){
              if(products[x][y]>=10){
                document.getElementById("number_of_products").style.left="70px";
              }
            
              else{
                document.getElementById("number_of_products").style.left="75px";
            
              }
            }
            
            function plus(){
            
              if(document.getElementById("number_of_products").innerHTML<"99"){
                document.getElementById("number_of_products").innerHTML++;
            
                if(document.getElementById("establecimentos_text").innerHTML == "Frango + Bebida"){
                  products[0][0]=products[0][0]+1;
                }
            
                else if(document.getElementById("establecimentos_text").innerHTML == "Febras + Bebida"){
                  products[0][1]=products[0][1]+1;
                }
            
                else if(document.getElementById("establecimentos_text").innerHTML == "Bifana + Bebida"){
                  products[1][0]=products[1][0]+1;
                }
            
                else if(document.getElementById("establecimentos_text").innerHTML == "Burguer + Bebida"){
                  products[1][1]=products[1][1]+1;
                }
            
                if(document.getElementById("number_of_products").innerHTML=="10"){
                  document.getElementById("number_of_products").style.left="70px";
                }
              }
            }
            
            function minus(){
            
            
              if(document.getElementById("number_of_products").innerHTML>"0"){
                document.getElementById("number_of_products").innerHTML--;
            
                if(document.getElementById("establecimentos_text").innerHTML == "Frango + Bebida"){
                  products[0][0]=products[0][0]-1;
                }
            
                else if(document.getElementById("establecimentos_text").innerHTML == "Febras + Bebida"){
                  products[0][1]=products[0][1]-1;
                }
            
                else if(document.getElementById("establecimentos_text").innerHTML == "Bifana + Bebida"){
                  products[1][0]=products[1][0]-1;
                }
            
                else if(document.getElementById("establecimentos_text").innerHTML == "Burguer + Bebida"){
                  products[1][1]=products[1][1]-1;
                }
            
                if(document.getElementById("number_of_products").innerHTML=="9"){
                  document.getElementById("number_of_products").style.left="75px";
                }
              }
            }
            
            function carrinho(){
            
            
              if(document.getElementById("establecimentos_text").innerHTML == "Establecimentos"){
            
                document.getElementById("establecimentos_text").style.display="none";
                document.getElementById("separator3").style.display="none";
                document.getElementById("carrinho").style.display="none";
                document.getElementById("establecimentos_text").style.display="none";
                document.getElementById("rest_name").style.display="none";
                document.getElementById("rest_icon").style.display="none";
                document.getElementById("bolas_menu_restaurantes").style.display="none";
            
                previousScreen="carrinho1";
              }
              //DEPOIS FAZER IF PARA PODER FAZER UM BACK SO DE BLOCK
            
              else if(document.getElementById("establecimentos_text").innerHTML == "Produtos"){
                document.getElementById("bolas_menu_produtos").style.display="none";
                document.getElementById("produto_button").style.display="none";
                document.getElementById("separator3").style.display="none";
                document.getElementById("carrinho").style.display="none";
                document.getElementById("establecimentos_text").style.display="none";
            
            
            
            
                previousScreen="carrinho2";
              }
            
              else{
            
                document.getElementById("number_of_products").style.display="none";
                document.getElementById("plus").style.display="none";
                document.getElementById("minus").style.display="none";
                document.getElementById("continuar_prods").style.display="none";
                document.getElementById("separator3").style.display="none";
                document.getElementById("carrinho").style.display="none";
                document.getElementById("establecimentos_text").style.display="none";
            
                previousScreen="carrinho3";
              }
            
            
              document.getElementById("lista_carrinho").style.display="block";
              document.getElementById("prod1").style.display="block";
              document.getElementById("prod2").style.display="block";
              document.getElementById("prod3").style.display="block";
              document.getElementById("prod4").style.display="block";
            
            
            
              var np1 = products[0][0];
              var np2 = products[0][1];
              var np3 = products[1][0];
              var np4 = products[1][1];
            
              document.getElementById("prod1").innerHTML="Frango + Bebida:  " + np1 + "</br></br>";
              document.getElementById("prod2").innerHTML="Febras + Bebida:  " + np2 + "</br></br>";
              document.getElementById("prod3").innerHTML="Bifana + Bebida:  " + np3 + "</br></br>";
              document.getElementById("prod4").innerHTML="Burger + Bebida:  " + np4 + "</br></br>";
            
              document.getElementById("finalizar").style.display="block";
              document.getElementById("voltar").style.display="block";
            
            
            
              if(products[0][0]==0){
                document.getElementById("prod1").style.display="none";
              }
              if(products[0][1]==0){
                document.getElementById("prod2").style.display="none";
              }
              if(products[1][0]==0){
                document.getElementById("prod3").style.display="none";
              }
              if(products[1][1]==0){
                document.getElementById("prod4").style.display="none";
              }
            
              if(products[0][0]==0 && products[0][1]==0 && products[1][0]==0 && products[1][1]==0){
                document.getElementById("prod_text").innerHTML="Por favor, adicione algo ao seu carrinho."
                document.getElementById("prod_text").style.position="absolute";
                document.getElementById("prod_text").style.width="144px";
                document.getElementById("prod_text").style.top="50px";
                document.getElementById("prod_text").style.color="white";
                document.getElementById("prod_text").style.textAlign="center";
                document.getElementById("prod_text").style.fontSize="15px";
                document.getElementById("finalizar").style.display="none";
                document.getElementById("voltar").style.display="none";
            
                if (previousScreen == "carrinho1"){
                  previousScreen = "carrinho1.1";
                }
                else if (previousScreen == "carrinho2"){
                  previousScreen = "carrinho2.1";
                }
                else if (previousScreen == "carrinho3"){
                  previousScreen = "carrinho3.1";
                }
              }
            
            
            }
            
            
            
            //Friends APP FUNCTIONS
            
            
            function swapToFriends(){
            
              document.getElementById("button_friends").style.display="none";
              document.getElementById("pic").src="background.png";
              document.getElementById("separator1").src="separator.png";
              document.getElementById('bolas_menu_4').style.display="none";
            
              document.getElementById("separator2").src="separator.png";
              document.getElementById("separator1").style.display="block";
              document.getElementById("separator2").style.display="block";
            
              document.getElementById("add_success").style.display="none";
              document.getElementById("voltar_lista").style.display="none";
              //document.getElementById("adicionar").style.display="block";
            
              //document.getElementById("remover").style.display="block";
              document.getElementById("add_friends").src="add_friends.png";
              document.getElementById("add_friends").style.display="block";
            
              if(numberOfFriends == 0){
                document.getElementById("no_friends").style.display="block";
              }
            
              else{
                document.getElementById("lista_amigos").style.display="block"
              }
            
              //document.getElementById("lista_amigos").style.display="block";
              /*document.getElementById("amigo1").style.display="block";
              document.getElementById("amigo2").style.display="block";
              document.getElementById("amigo3").style.display="block";
              document.getElementById("amigo4").style.display="block";
              document.getElementById("amigo5").style.display="block";
              document.getElementById("amigo6").style.display="block";
              document.getElementById("amigo7").style.display="block";
              document.getElementById("amigo8").style.display="block";
              document.getElementById("amigo9").style.display="block";
              document.getElementById("amigo10").style.display="block";
              document.getElementById("amigo11").style.display="block";
              document.getElementById("amigo12").style.display="block";
              document.getElementById("amigo13").style.display="block";
              document.getElementById("amigo14").style.display="block";
              document.getElementById("amigo15").style.display="block";*/
            
            
            
              previousScreen="Menu3_friends";
            }
            
            
            function addFriends(){
            
              document.getElementById("music_menu_text").innerHTML="Amigos";
              document.getElementById("music_menu_text").style.left="52px";
              document.getElementById("lista_amigos").style.display="none";
              document.getElementById("no_friends").style.display="none";
              document.getElementById("add_friends").style.display="none";
            
              document.getElementById("nfc").src="NFC-BLACK.png";
              document.getElementById("nfc").style.display="block";
              document.getElementById("nfc_text").style.display="block";
            
            
              document.getElementById("lista_amigos").style.height="53px";
              document.getElementById("no_friends").style.top="50px";
              document.getElementById("mudar_para_amigos").style.display="none";
            
              adding = 1;
            
              previousScreen = "FriendsList";
            
            }
            
            
            function nfc_button(){
            
              if(adding == 1){
                adding = 0;
                document.getElementById("nfc").style.display="none";
                document.getElementById("nfc_text").style.display="none";
                document.getElementById("loader").style.display="block";
                setTimeout(added,1500);
                previousScreen = "NONE"; //back does nothing
              }
            
            
            }
            
            function added(){
              document.getElementById("loader").style.display="none";
              numberOfFriends++;
              adding=0;
            
              var i;
            
              if(numberOfFriends != 15){
                for(i=0; i<15; i++){
                  if(friends[i] == 0){
                    friends[i]=1;
                    document.getElementById("amigo"+(i+1)).style.display="block";
                    break;
                  }
                }
              }
              console.log(i);
              var addedFriend = document.getElementById("amigo"+(i+1)).textContent.trim();
            
            
              document.getElementById("add_success").style.display="block";
            
              if(addedFriend == "João" || addedFriend == "Tiago" || addedFriend == "Pedro" || addedFriend == "Zé" || addedFriend == "Gil" || addedFriend == "Vasco" || addedFriend == "Bruno" || addedFriend == "Paulo"){
            
                document.getElementById("add_success").innerHTML="O " + addedFriend + " foi adicionado à tua lista de amigos."
              }
              else{
                document.getElementById("add_success").innerHTML="A " + addedFriend + " foi adicionada à tua lista de amigos."
              }
            
              document.getElementById("voltar_lista").style.display="block";
            
            
              previousScreen = "ListaAmigos";
            
            }
            
            function acoesAmigo(nome,numero){
              console.log(nome);
              console.log(numero);
            
            
              if(document.getElementById("music_menu_text").innerHTML=="Amigos"){
                document.getElementById("lista_amigos").style.display="none";
                document.getElementById("add_friends").style.display="none";
                document.getElementById("amigo_selecionado").style.display="block";
                document.getElementById("amigo_selecionado").innerHTML=nome;
            
                document.getElementById("remover").style.display="block";
                document.getElementById("encontrar").style.display="block";
            
                document.getElementById("remover").onclick= function(){
            
                  document.getElementById("remover_text").style.display="block";
                  document.getElementById("remover_sim").style.display="block";
                  document.getElementById("remover_nao").style.display="block";
            
            
                  if(nome == "João" || nome == "Tiago" || nome == "Pedro" || nome == "Zé" || nome == "Gil" || nome == "Vasco" || nome == "Bruno" || nome == "Paulo"){
                    document.getElementById("remover_text").innerHTML="Tens a certeza que queres remover o " + nome +" da tua lista de amigos?";
                  }
            
                  else{
                    document.getElementById("remover_text").innerHTML="Tens a certeza que queres remover a " + nome +" da tua lista de amigos?";
                  }
                  document.getElementById("amigo_selecionado").style.display="none";
                  document.getElementById("remover").style.display="none";
                  document.getElementById("encontrar").style.display="none";
            
                  document.getElementById("remover_nao").onclick= function(){
                    document.getElementById("remover").style.display="block";
                    document.getElementById("encontrar").style.display="block";
                    document.getElementById("amigo_selecionado").style.display="block";
                    document.getElementById("remover_text").style.display="none";
                    document.getElementById("remover_sim").style.display="none";
                    document.getElementById("remover_nao").style.display="none";
            
                    previousScreen = "FriendsList";
            
                  }
                  document.getElementById("remover_sim").onclick= function(){
                    friends[numero-1] = 0;
                    numberOfFriends--;
                    document.getElementById("amigo"+numero).style.display="none";
                    document.getElementById("remover_text").style.display="none";
                    document.getElementById("remover_sim").style.display="none";
                    document.getElementById("remover_nao").style.display="none";
                    document.getElementById("add_friends").style.display="block";
            
                    if(numberOfFriends > 0){
                      document.getElementById("lista_amigos").style.display="block";
            
                    }
                    else{
                      document.getElementById("no_friends").style.display="block";
                    }
            
                    previousScreen = "Menu3_friends";
            
                  }
            
                  previousScreen = "Selected_friend";
            
                  //console.log(numero);
                  //friends[numero-1] = 0;
                  //numberOfFriends--;
                  //document.getElementById("amigo"+numero).style.display="none";
                  //POR ACABAR, MAS JA BOMBA
                };
            
            
                document.getElementById("encontrar").onclick= function(){
                  document.getElementById("amigo_selecionado").style.display="none";
                  document.getElementById("remover").style.display="none";
                  document.getElementById("encontrar").style.display="none";
            
                  document.getElementById("caminho").style.display="block";
                  if(numero == 1 || numero == 6 || numero == 11){
                    document.getElementById("caminho").src="posicao_amigo1.png";
                  }
                  else if(numero == 2 || numero == 7 || numero == 12){
                    document.getElementById("caminho").src="posicao_amigo2.png";
                  }
                  else if(numero == 3 || numero == 8 || numero == 13){
                    document.getElementById("caminho").src="posicao_amigo3.png";
                  }
                  else if(numero == 4 || numero == 9 || numero == 14){
                    document.getElementById("caminho").src="posicao_amigo4.png";
                  }
                  else if(numero == 5 || numero == 10 || numero == 15){
                    document.getElementById("caminho").src="posicao_amigo5.png";
                  }
                  previousScreen = "Selected_friend";
                }
            
                previousScreen = "FriendsList";
              }
            
              else{
                document.getElementById("lista_amigos").style.display="none";
                document.getElementById("caminho").style.display="block";
                if(numero == 1 || numero == 6 || numero == 11){
                  document.getElementById("caminho").src="posicao_amigo1.png";
                }
                else if(numero == 2 || numero == 7 || numero == 12){
                  document.getElementById("caminho").src="posicao_amigo2.png";
                }
                else if(numero == 3 || numero == 8 || numero == 13){
                  document.getElementById("caminho").src="posicao_amigo3.png";
                }
                else if(numero == 4 || numero == 9 || numero == 14){
                  document.getElementById("caminho").src="posicao_amigo4.png";
                }
                else if(numero == 5 || numero == 10 || numero == 15){
                  document.getElementById("caminho").src="posicao_amigo5.png";
                }
                previousScreen = "Amigos_gps";
              }
            
            }
            
            
            // GPS APP FUNCTIONS
            
            function swapToGps(){
              document.getElementById("button_gps").style.display="none";
              document.getElementById("pic").src="background.png";
              document.getElementById("separator1").src="separator.png";
              document.getElementById("separator2").src="separator.png";
              document.getElementById("separator1").style.display="block";
              document.getElementById("separator2").style.display="block";
              document.getElementById('bolas_menu_4').style.display="none";
            
            
              document.getElementById("lugares_botao_mapa").style.display="block";
              document.getElementById("amigos_botao_mapa").style.display="block";
            
            
              document.getElementById("amigos_botao_mapa").onclick= function(){
                document.getElementById("lugares_botao_mapa").style.display="none";
                document.getElementById("amigos_botao_mapa").style.display="none";
            
                if(numberOfFriends > 0){
                  document.getElementById("lista_amigos").style.display="block";
                  document.getElementById("lista_amigos").style.height="92px";
            
            
                  //TODO
                }
                else if(numberOfFriends == 0){
                  document.getElementById("no_friends").style.display="block";
                  document.getElementById("no_friends").style.top="39px";
                  document.getElementById("mudar_para_amigos").style.display="block";
                }
            
              previousScreen = "Amigos_Lugares"
              }
            
            
              document.getElementById("lugares_botao_mapa").onclick= function(){
                document.getElementById("lugares_botao_mapa").style.display="none";
                document.getElementById("amigos_botao_mapa").style.display="none";
            
                document.getElementById("lista_lugares").style.display="block";
            
                previousScreen = "Amigos_Lugares";
              }
            
              previousScreen = "Menu4_GPS";
            }
            
            
            function displayGPSIMAGE(lugar){
            
            	document.getElementById("lista_lugares").style.display="none";
            	if (lugar == "Palco 1"){
            		document.getElementById("imagem_lugar").src="caminho_palco1.png";
            		document.getElementById("imagem_lugar").style.display="block";
            	}
            	else if(lugar == "Palco 2"){
            		document.getElementById("imagem_lugar").src="caminho_palco1.png";
            		document.getElementById("imagem_lugar").style.display="block";
            
            	}
            	else if(lugar == "Palco 2"){
            		document.getElementById("imagem_lugar").src="caminho_palco2.png";
            		document.getElementById("imagem_lugar").style.display="block";
            
            	}
            	else if(lugar == "WC"){
            				document.getElementById("imagem_lugar").src="caminho_wc.png";
            		document.getElementById("imagem_lugar").style.display="block";
            
            	}
            	else if(lugar == "Restaurante"){
            				document.getElementById("imagem_lugar").src="caminho_restaurante.png";
            		document.getElementById("imagem_lugar").style.display="block";
            
            	}
            	else if(lugar == "Campismo"){
            				document.getElementById("imagem_lugar").src="caminho_campismo.png";
            		document.getElementById("imagem_lugar").style.display="block";
            
            	}
            
            	previousScreen ="ListaLugares";
            
            }
            
            //MISC FUNCTIONS: TIME, SWIPE BEHAVIOUR , etc
            
            
            
            function startTime() {
              var today = new Date();
              var h = today.getHours();
              var m = today.getMinutes();
              var mo = today.getMonth() + 1;
              var d = today.getDate();
              m = checkTime(m);
              h = checkTime(h);
              mo = checkTime(mo);
              d = checkTime(d);
              document.getElementById('relogio').innerHTML = h + ":" + m;
              document.getElementById('dia').innerHTML = d + "/" + mo;
              var t = setTimeout(startTime, 500);
            }
            
            function checkTime(i) {
              if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
              return i;
            }
            
            $(document).on("pagecreate","#container",function(){
              $("img").on("swiperight",function(){
                if($('img').attr('src') == "Menu2_Refeicoes.png"){
                  $("img").attr("src","Placeholder_Menu2_Musica.png");
                  document.getElementById("music_button").style.display="block";
                  document.getElementById("music_menu_text").innerHTML="Música";
                  document.getElementById("music_menu_text").style.left="51px";
                  document.getElementById("meals_button").style.display="none";
                  document.getElementById("bolas_menu_4").src="bolas_4_1.png";
            
                }
            
                else if($('img').attr('src') == "Menu3_friends.png"){
                  $("img").attr("src","Menu2_Refeicoes.png");
                  document.getElementById("button_friends").style.display="none";
                  document.getElementById("meals_button").style.display="block";
                  document.getElementById("music_menu_text").innerHTML="Refeições";
                  document.getElementById("music_menu_text").style.left="42px";
                  document.getElementById("bolas_menu_4").src="bolas_4_2.png";
            
                }
            
                else if($('img').attr('src') == "Menu4_gps.png"){
                  $("img").attr("src","Menu3_friends.png");
                  document.getElementById("button_friends").src="button_friends.png"
                  document.getElementById("button_friends").style.display="block";
                  document.getElementById("button_gps").style.display="none";
                  document.getElementById("music_menu_text").innerHTML="Amigos";
                  document.getElementById("music_menu_text").style.left="52px";
                  document.getElementById("bolas_menu_4").src="bolas_4_3.png";
            
              }
            
                else if($('img').attr('src') == "background.png" && document.getElementById("rest_name").innerHTML=="Restaurante do Zé"){
                  document.getElementById("rest_name").innerHTML="Restaurante do Jaquim";
                  document.getElementById("bolas_menu_restaurantes").src="bolas_menu_comida_2.png";
                }
                else if($('img').attr('src') == "background.png" && document.getElementById("rest_name").innerHTML=="Restaurante do Jaquim"){
                  document.getElementById("rest_name").innerHTML="Restaurante do Zé";
                  document.getElementById("bolas_menu_restaurantes").src="bolas_menu_comida_1.png";
            
                }
            
            
            
              });
            });
            
            
            
            $(document).on("pagecreate","#container",function(){
              $("img").on("swipeleft",function(){
                if($('img').attr('src') == "Placeholder_Menu2_Musica.png"){
                  $("img").attr("src","Menu2_Refeicoes.png");
                  document.getElementById("music_button").style.display="none";
                  document.getElementById("music_menu_text").innerHTML="Refeições";
                  document.getElementById("music_menu_text").style.left="42px";
                  document.getElementById("meals_button").style.display="block";
                  document.getElementById("bolas_menu_4").src="bolas_4_2.png";
                }
            
                else if($('img').attr('src') == "Menu2_Refeicoes.png"){
                  $("img").attr("src","Menu3_friends.png");
                  document.getElementById("meals_button").style.display="none";
                  document.getElementById("music_menu_text").innerHTML="Amigos";
                  document.getElementById("music_menu_text").style.left="52px";
                  document.getElementById("button_friends").src="button_friends.png";
                  document.getElementById("button_friends").style.display="block";
                  document.getElementById("bolas_menu_4").src="bolas_4_3.png";
            
                }
            
                else if($('img').attr('src') == "Menu3_friends.png"){
                  $("img").attr("src","Menu4_gps.png");
                  document.getElementById("button_friends").style.display="none";
                  document.getElementById("music_menu_text").innerHTML="Mapa";
                  document.getElementById("music_menu_text").style.left="57px";
                  document.getElementById("button_gps").src="button_gps.png";
                  document.getElementById("button_gps").style.display="block";
                  document.getElementById("bolas_menu_4").src="bolas_4_4.png";
            
                }
            
                else if($('img').attr('src') == "background.png" && document.getElementById("rest_name").innerHTML=="Restaurante do Zé"){
                  document.getElementById("rest_name").innerHTML="Restaurante do Jaquim";
                  document.getElementById("bolas_menu_restaurantes").src="bolas_menu_comida_2.png";
                }
                else if($('img').attr('src') == "background.png" && document.getElementById("rest_name").innerHTML=="Restaurante do Jaquim"){
                  document.getElementById("rest_name").innerHTML="Restaurante do Zé";
                  document.getElementById("bolas_menu_restaurantes").src="bolas_menu_comida_1.png";
                }
            
            
              });
            });
            
            $(document).on("pagecreate","#container",function(){
              $("button#produto_button").on("swipeleft",function(){
                if(document.getElementById("produto_button").innerHTML=="Frango + Bebida<br>7€"){
                  document.getElementById("produto_button").innerHTML="Febras + Bebida</br>5€";
                  document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_2.png";
                }
                else if(document.getElementById("produto_button").innerHTML=="Bifana + Bebida<br>6€"){
                  document.getElementById("produto_button").innerHTML="Burguer + Bebida</br>4€";
                  document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_2.png";
                  document.getElementById("produto_button").style.padding="2px 6px"; //2 9
                  document.getElementById("produto_button").style.left="10px"; //11
            
            
            
                }
              });
            });
            
            $(document).on("pagecreate","#container",function(){
              $("button#produto_button").on("swiperight",function(){
                if(document.getElementById("produto_button").innerHTML=="Febras + Bebida<br>5€"){
                  document.getElementById("produto_button").innerHTML="Frango + Bebida</br>7€";
                  document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                }
                else if(document.getElementById("produto_button").innerHTML=="Burguer + Bebida<br>4€"){
                  document.getElementById("produto_button").innerHTML="Bifana + Bebida</br>6€";
                  document.getElementById("bolas_menu_produtos").src="bolas_menu_comida_1.png";
                  document.getElementById("produto_button").style.padding="2px 12px"; //2 9
                  document.getElementById("produto_button").style.left="11px"; //11
            
                }
            
              });
            });
            
            
        </script>
    </head>
    <body onload="startTime()">
        <div class="iRave_Container" id="container" data-role="page">
            <img src="Home.png" id="pic" class="pic" width="144" height="144" alt="Menu" usemap="#clickable_areas" unselectable="on" data-role="none">
            <div id=menubuttondiv">
                <img src="MenuButton.png" id="menubutton" class="menubutton" alt="Menu Button" onclick="swapToMenu()" width="40" height="40">
            </div>
            <div id="relogio" class="center" data-role="none" data-enhance="false"></div>
            <input id="time" class="time" type="hidden" onblur="checkInputTime()" onfocus="checkInputTime2()" data-role="none">
            <div id="iRaveText" class="iRaveText">iRave</div>
            <button id="ok_button" class="ok_button" onclick="getHourForMusic()" data-role="none" >Continuar</button>
            <button id="atocar_button" class="atocar_button" onclick="swapToPresentMusic(document.getElementById('relogio').innerHTML)" data-role="none" >A Tocar</button>
            <button id="jatocou_button" class="jatocou_button" onclick="swapToEarlierMusic()" data-role="none" >Já Tocou</button>
            <button id="horacerta_button" class="horacerta_button" onclick="swapToDefineHour(chosenTime)" data-role="none" >Hora Certa</button>
            <button id="lista_button" class="lista_button" onclick="swapToListOfMusics()" data-role="none" >Lista</button>
            <button id="music_button" class="music_button" onclick="swapToMusic()" data-role="none"></button>
            <button id="back_button" class="back_button" onclick="back()" data-role="none"></button>
            <button id="musica_a_tocar" class="musica_a_tocar" data-role="none"></button>
            <button id="right_button_list" class="right_button_list" onclick="swapToNextMusic()" data-role="none"></button>
            <button id="left_button_list" class="left_button_list" onclick="swapToPreviousMusic()" data-role="none"></button>
            <button id="meals_button" class="meals_button" onclick="swapToMealsApp()" data-role="none"></button>
            <div id="no_Music" class="no_Music"></div>
            <div id="texto_artista_fixo" class="texto_artista"  data-role="none" data-enhance="false"></div>
            <div id="music_menu_text" class="musica_menu_text"></div>
            <div id="texto_musica_fixa" class="texto_musica" data-role="none" data-enhance="false"></div>
            <div id="texto_erro_hora" class="texto_erro" data-role="none" data-enhance="false"></div>
            <div id="hora_erro_hora" class="hora_erro" data-role="none" data-enhance="false"></div>
            <div id="hora_lista" class="hora_lista" data-role="none" data-enhance="false"></div>
            <div id="artista_lista" class="artista_lista" data-role="none" data-enhance="false"></div>
            <div id="musica_lista" class="musica_lista" data-role="none" data-enhanced="false"></div>
            <div id="dia" class="dia" data-role="none" data-enhance="false"></div>
            <img id="separator1" src="separator.png" class="separator1"  data-role="none">
            <img id="separator2" src="separator.png" class="separator2"  data-role="none">
            <img id="separator3" src="separator.png" class="separator3"  data-role="none">
            <div id="establecimentos_text" class="establecimentos_text" data-enhance="false" data-role="none"></div>
            <img id="rest_icon" width="35" height="35" src="Restaurante_Icon.png" class="rest_icon" data-role="none" onclick="swapToProductChoice(document.getElementById('rest_name').innerHTML)">
            <div id="rest_name" class="rest_name" data-role="none" data-enhance="none" onclick="swapToProductChoice(document.getElementById('rest_name').innerHTML)"></div>
            <button id="produto_button" class="produto_button" onclick="addProducts(document.getElementById('produto_button').innerHTML)" data-role="none" ></button>
            <div id="produto_nome" class="produto_nome" data-role="none" data-enhance="false"></div>
            <div id="produto_preço" class="produto_preço" data-role="none" data-enhance="false"></div>
            <img id="bolas_menu_produtos" src="bolas_menu_comida_1.png" class="bolas_menu_produtos"  data-role="none">
            <button id="plus" class="plus" onclick="plus()" onfocus="reset_continuar_button()" data-role="none" ></button>
            <button id="minus" class="minus" onclick="minus()" data-role="none" ></button>
            <div id="number_of_products" class="number_of_products" data-enhance="false"></div>
            <img id="bolas_menu_restaurantes" src="bolas_menu_comida_1.png" class="bolas_menu_restaurantes"  data-role="none">
            <button id="continuar_prods" class="continuar_prods" onclick="carrinho()">Continuar</button>
            <div id="empty" class="empty" data-role="none"></div>
            <button id="finalizar_button" class="finalizar_button" onclick="finalizar()">Finalizar</button>
            <button id="adicionar_mais_button" class="adicionar_mais_button" onclick="BackVariant()">Adicionar outros</br>produtos</button>
            <button id="sim_button" class="sim_button" onclick="finish()">Sim</button>
            <button id="nao_button" class="nao_button" onclick="back()">Não</button>
            <div id="finaltext" class="finaltext"></div>
            <div id="timer" class="timer">1m00s</div>
            <img id="carrinho" class="carrinho" src="carrinho.png" onclick="carrinho()">
            <div id="lista_carrinho" class="lista_carrinho">
                <div id="prod1" class="prod1"></div>
                <div id="prod2" class="prod2"></div>
                <div id="prod3" class="prod3"></div>
                <div id="prod4" class="prod4"></div>
            </div>
            <div id="prod_text" class="prod_text"></div>
            <button id="finalizar" class="finalizar" onclick="finalizar()" >Concluir</button>
            <button id="voltar" class="voltar" onclick="back()">Voltar</button>
            <div id="preçofinal" class="preçofinal" data-role="none"></div>
            <button id="adicionar" class="adicionar">Adicionar Amigos</button>
            <div id="lista_amigos" class="lista_amigos">
                <a id="amigo1" class="amigo1" onclick="acoesAmigo(document.getElementById('amigo1').textContent.trim(),1)">João</a>
                <a id="amigo2" class="amigo2" onclick="acoesAmigo(document.getElementById('amigo2').textContent.trim(),2)">Pedro</a>
                <a id="amigo3" class="amigo3" onclick="acoesAmigo(document.getElementById('amigo3').textContent.trim(),3)">Tiago</a>
                <a id="amigo4" class="amigo4" onclick="acoesAmigo(document.getElementById('amigo4').textContent.trim(),4)">Maria</a>
                <a id="amigo5" class="amigo5" onclick="acoesAmigo(document.getElementById('amigo5').textContent.trim(),5)">Inês</a>
                <a id="amigo6" class="amigo6" onclick="acoesAmigo(document.getElementById('amigo6').textContent.trim(),6)">Vasco</a>
                <a id="amigo7" class="amigo7" onclick="acoesAmigo(document.getElementById('amigo7').textContent.trim(),7)">Paulo</a>
                <a id="amigo8" class="amigo8" onclick="acoesAmigo(document.getElementById('amigo8').textContent.trim(),8)">Paula</a>
                <a id="amigo9" class="amigo9" onclick="acoesAmigo(document.getElementById('amigo9').textContent.trim(),9)">Cátia</a>
                <a id="amigo10" class="amigo10" onclick="acoesAmigo(document.getElementById('amigo10').textContent.trim(),10)">Gil</a>
                <a id="amigo11" class="amigo11" onclick="acoesAmigo(document.getElementById('amigo11').textContent.trim(),11)">Zé</a>
                <a id="amigo12" class="amigo12" onclick="acoesAmigo(document.getElementById('amigo12').textContent.trim(),12)">Diana</a>
                <a id="amigo13" class="amigo13" onclick="acoesAmigo(document.getElementById('amigo13').textContent.trim(),13)">Bruno</a>
                <a id="amigo14" class="amigo14" onclick="acoesAmigo(document.getElementById('amigo14').textContent.trim(),14)">Ana</a>
                <a id="amigo15" class="amigo15" onclick="acoesAmigo(document.getElementById('amigo15').textContent.trim(),15)">Rita</a>
            </div>
            <div id="no_friends" class="no_friends">Ainda não adicionaste nenhum amigo</div>
            <button id="nfc_button" class="nfc_button" onclick="nfc_button()">Simular Aproximação [NFC]</button>
            <button id="voltar_lista" class="voltar_lista" onclick="swapToFriends()">Voltar</button>
            <div id="amigo_selecionado" class="amigo_selecionado"></div>
            <button id="remover" class="remover" onclick="remover()">Remover</button>
            <button id="encontrar" class="encontrar" onclick="encontrar()">Encontrar</button>
            <img id="button_friends" class="button_friends" src="button_friends.png" onclick="swapToFriends()">
            <!--<img id="add_friends" class="add_friends" src="add_friends.png" onclick="addFriends()" >-->
            <button id="add_friends" class="add_friends" onclick="addFriends()">Adicionar</button>
            <img id="nfc" class="nfc" src="NFC-BLACK.png">
            <div id="nfc_text" class="nfc_text">Aproximem os iRaves</div>
            <div class="loader" id="loader"></div>
            <div class="add_success" id="add_success"></div>
            <div class="remover_text" id="remover_text"></div>
            <button class="remover_sim" id="remover_sim">Sim</button>
            <button class="remover_nao" id="remover_nao">Não</button>
            <img id="caminho" class="caminho" src="">
            <img id="button_gps" class="button_gps" src="" onclick="swapToGps()">
            <button id="amigos_botao_mapa" class="amigos_botao_mapa">Amigos</button>
            <button id="lugares_botao_mapa" class="lugares_botao_mapa">Lugares</button>
            <button id="mudar_para_amigos" class="mudar_para_amigos" onclick="addFriends()">Abrir aplicação </br>Amigos</button>
            <div id="lista_lugares" class="lista_lugares">
                <a id="lugar1" class="lugar1" onclick="displayGPSIMAGE(document.getElementById('lugar1').innerHTML)">Palco 1</a>
                <a id="lugar2" class="lugar2" onclick="displayGPSIMAGE(document.getElementById('lugar2').innerHTML)">Palco 2</a>
                <a id="lugar3" class="lugar3" onclick="displayGPSIMAGE(document.getElementById('lugar3').innerHTML)">Restaurante</a>
                <a id="lugar4" class="lugar4" onclick="displayGPSIMAGE(document.getElementById('lugar4').innerHTML)">Campismo</a>
                <a id="lugar5" class="lugar5" onclick="displayGPSIMAGE(document.getElementById('lugar5').innerHTML)">WC</a>
            </div>
            <img id="imagem_lugar" class="imagem_lugar" src="">
            <img id="bolas_menu_4" class="bolas_menu_4" src="bolas_4_1.png">
            <map name="clickable_areas">
                <area shape="circle" id="menu" coords="72,119,25" alt="menu" onclick="swapToMenu()">
                <!-- <area shape="circle" id="aplicacao_musica" coords="0,0,0" alt="menu" onclick="swapToMusic()"> -->
                <!-- <area shape="rect" id="a_tocar" coords="0,0,0,0" alt="menu" onclick="swapToPresentMusic(document.getElementById('relogio').innerHTML)"> -->
                <!-- <area shape="rect" id="ja_tocou" coords="0,0,0,0" alt="menu" onclick="swapToEarlierMusic()"> -->
                <!-- <area shape="circle" id="back" coords="0,0,0" alt="menu" onclick="back()"> -->
                <area shape="rect" id="hora_certa" coords="0,0,0,0" alt="menu" onclick="swapToDefineHour(chosenTime)">
                <area shape="rect" id="lista_musicas" coords="0,0,0,0" alt="menu" onclick="swapToListOfMusics()">
                <!--<area shape="circle" id="right_arrow_lista" coords="0,0,0" alt="menu" onclick="swapToNextMusic()">-->
                <!-- <area shape="circle" id="left_arrow_lista" coords="0,0,0" alt="menu" onclick="swapToPreviousMusic()"> -->
            </map>
        </div>
        <div class="Notas">O utilizador deste iRave está num concerto dos Metallica, que decorre entre as 15h00 e as 17h00.</div>
        </div>
    </body>
</html>
<!-- FALTA: FAZER O MAPA, SINERGIA COM A LISTA, E VER OQ ACONTECE QD JA TENHO 15 AMIGOS E TENTO ADD OUTRO -->
<!-- FALTA: CLIQUE NOS LUGARES (GPS)
    MELHORAR UI DA LISTA DE AMIGOS NA PARTE DO GPS
    SIMULAR CHEGADA/ANDAR AO TARGET -->
